<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Settings</title>
  <link rel="stylesheet" href="settings.css">
</head>

<body>
  <!-- This is the standarized template-->
  <div id="header-container"></div>
  <script>
    // Use JavaScript to load and insert the template into the page
    fetch('template.html')
      .then(response => response.text())
      .then(template => {
        document.getElementById('header-container').innerHTML += template;
      });
  </script>

  <div id="formPage">
    <h1>Settings</h1>
    <form id="settingsForm">
      <label for="username">Set Username:</label>
      <input type="text" id="username" name="username" required><br><br>
      <label for="unit">Default Unit of Measurement:</label>
      <select id="unit" name="unit">
        <option value="lbs">lbs</option>
        <option value="kgs">kgs</option>
      </select><br><br>
      <button type="submit">Save</button>
    </form>

    <!-- Add the button and image elements -->
    <button id="rat-button">Rat</button>
    <img id="rat-image" src="images/RAT.png" alt="Rat">

    <!-- Add the JavaScript code to handle the button click -->

  </div>


  <script>
    const ratButton = document.getElementById("rat-button");
    const ratImage = document.getElementById("rat-image");

    ratButton.addEventListener("click", () => {
      ratImage.style.opacity = "1";
      ratImage.style.display = "block";
    });
    ratImage.addEventListener("transitionend", () => {
      ratImage.style.opacity = "0";
      ratImage.style.display = "none";
    });

    // Get references to elements
    const settingsForm = document.getElementById("settingsForm");
    const usernameInput = document.getElementById("username");
    const unitSelect = document.getElementById("unit");

    // Load the user's settings when the page loads
    window.addEventListener("load", () => {
      // Get the user's settings from local storage
      const username = localStorage.getItem("username");
      const unit = localStorage.getItem("unit");

      // Set the form values to the user's settings
      usernameInput.value = username;
      unitSelect.value = unit;
    });

    // Save the user's settings when the form is submitted
    settingsForm.addEventListener("submit", (event) => {
      //event.preventDefault();

      // Get the form values
      const username = usernameInput.value;
      const unit = unitSelect.value;

      // Save the user's settings to local storage
      localStorage.setItem("username", username);
      localStorage.setItem("unit", unit);

      // Show a success message
      alert("Settings saved!");
    });
  </script>




</body>

</html>